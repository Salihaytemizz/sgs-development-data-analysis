#!/usr/bin/env python3
"""SGS - Smart Growth Solutions"""
import pandas as pd
import sqlite3
import sys

if len(sys.argv) > 1 and sys.argv[1] == 'analyze':
    print("ğŸ§  SGS")
    
    # Excel
    try:
        df = pd.read_excel('image-table-cs.xlsx')
        print(f"ğŸ“Š {len(df)} Ã¼rÃ¼n")
        
        for col in df.columns:
            if 'gÃ¶rÃ¼ntÃ¼lenme' in col.lower():
                top = df.loc[df[col].idxmax(), 'ÃœrÃ¼n AdÄ±']
                print(f"ğŸ† {top}")
                break
    except: pass
    
    # SQL
    try:
        conn = sqlite3.connect('sales.db')
        result = conn.execute("SELECT \"ÃœrÃ¼n AdÄ±\", Fiyat FROM tuzla_loglar ORDER BY Fiyat DESC LIMIT 1").fetchone()
        print(f"ğŸ’° {result[0]} ({result[1]}â‚º)")
        conn.close()
    except: pass
    
    print("âœ… Tamam")
else:
    print("KullanÄ±m: sgs analyze")
